{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/PersonsService.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","person","deletePerson","react_default","a","createElement","name","number","onClick","id","Persons","persons","map","i","components_Person","key","Filter","valueChangeHandler","value","onChange","PersonForm","props","nameField","handlePersonNameInput","newName","numberField","handlePhoneNumberInput","newNumber","type","savePerson","baseURL","PersonsService","axios","get","then","response","data","post","put","concat","delete","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","newSearchValue","setNewSearchValue","_useState9","_useState10","setMessage","_useState11","_useState12","setType","useEffect","components_Notification","components_Filter","event","target","trim","components_PersonForm","preventDefault","foundPerson","find","toLowerCase","window","confirm","objectSpread","toConsumableArray","setTimeout","catch","error","alert","components_Persons","length","filter","includes","e","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.56c8ccc6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({person, deletePerson}) => <li>{person.name} {person.number} <button onClick={() => deletePerson(person.id)}>Delete</button></li>\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, deletePerson}) => <ul>{ persons.map((person,i) => <Person person={person} deletePerson={deletePerson} key={i} />) }</ul>\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({valueChangeHandler, value}) => {\n    return (\n        <div>\n            filter shown with: <input onChange={valueChangeHandler} value={value} />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <form>\n            <div>\n                name: <input onChange={props.nameField.handlePersonNameInput} value={props.nameField.newName} />\n                number: <input onChange={props.numberField.handlePhoneNumberInput} value={props.numberField.newNumber} />\n            </div>\n            <div>\n                <button type=\"submit\" onClick={props.savePerson}>add</button>\n            </div>\n      </form>\n    )\n}\n\nexport default PersonForm","import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst list = () => axios\n                    .get(baseURL)\n                    .then(response => response.data)\n\nconst create = (person) => axios\n                            .post(baseURL, person)\n                            .then(response => response.data)\n\nconst update = (person) => axios\n                            .put(`${baseURL}/${person.id}`, person)\n                            .then(response => response.data)\n\nconst remove = (id) => axios\n                        .delete(`${baseURL}/${id}`)\n                        .then(response => response.data)\n\nexport default {list, create, update, remove}","import React from 'react'\nimport '../index.css'\n\nconst Notification = ({ message , type }) => {\n    if (message === null) {\n      return null\n    }\n    \n    if(type === 'error') {\n        return (\n            <div className=\"error\">\n              {message}\n            </div>\n          )\n    }\n    if(type === 'success') {\n        return (\n            <div className=\"success\">\n                {message}\n            </div>\n        )\n    }\n  }\n\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport PersonsService from './services/PersonsService'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearchValue, setNewSearchValue ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ type, setType ] = useState('error')\n  \n  useEffect(\n    () => {\n      PersonsService.list().then(persons => setPersons(persons))\n    },[])\n\n  const handlePersonNameInput = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handlePhoneNumberInput = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterInput = (event) => {\n    setNewSearchValue(event.target.value.trim())\n  }\n\n  const savePerson = (event) => {\n    event.preventDefault()\n    const foundPerson = persons.find(person => person.name.toLowerCase() === newName.trim().toLowerCase())\n    if(foundPerson) {\n      if(window.confirm(`${foundPerson.name} is already added to phonebook. Do you want to replace the number with a new one?`)){\n        PersonsService\n        .update({...foundPerson, number: newNumber.trim()})\n        .then(response => setPersons(persons.map(person => person.name.toLowerCase() === foundPerson.name.toLowerCase() ? {...person, number:newNumber.trim()} : person)))\n      }\n    }\n    else {\n      PersonsService\n        .create({name:newName.trim(), number: newNumber.trim()})\n        .then(person => {\n          setPersons([...persons, person])\n          setMessage(`${person.name} is added to the server`)\n          setTimeout(() => setMessage(null), 2000)\n          setType('success')\n        })\n        .catch(error => alert(`Error ${error} occured.`))\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n  const deletePerson = (id) => {\n    if(window.confirm(`Do you want to delete ${persons.find(e => e.id === id).name}?`)) {\n      PersonsService\n        .remove(id)\n        .then(response => setPersons(persons.filter(e => e.id !== id)))\n        .catch(response => {\n          setPersons(persons.filter(e => e.id !== id))\n          setMessage(`${id} is already removed from the server.`)\n          setTimeout(() => setMessage(null), 2000)\n          setType('error')\n        })\n    }\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} type={type}/>\n      <h2>Add a new</h2>\n      <Filter valueChangeHandler={handleFilterInput} value={newSearchValue} />\n      <PersonForm nameField={{newName: newName, handlePersonNameInput: handlePersonNameInput}} numberField={{newNumber: newNumber, handlePhoneNumberInput: handlePhoneNumberInput}} savePerson={savePerson} />\n      <h2>Numbers</h2>\n      <Persons persons={ newSearchValue.length ? persons.filter(person => person.name.toLowerCase().includes(newSearchValue.toLowerCase())) : persons } deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}